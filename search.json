[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "GitHub Actions",
    "section": "",
    "text": "This is a Quarto website and was rendered on GitHub 2024-02-17 12:42:14 at UTC.\nIn the following I test R code to:\n\nread public shared googlesheet from Google Drive\nread googlesheet from private Google Drive\ndownload and read file (.rds) from private Google Drive\nwrite and upload file (.rds) to private Google Drive\nread data from external API\n\n\n# Without auth:\nlibrary(googlesheets4)\nlibrary(gt)\n\ngooglesheets4::gs4_deauth()\n\nspreadsheet_url &lt;- \"https://docs.google.com/spreadsheets/d/1dnzTx2TIxk-QpoWNz08Jr_e4F2rZ4mDBgphzq9lwdYM/edit?usp=drive_link\"\n\ndata &lt;- googlesheets4::read_sheet(spreadsheet_url, range = \"Ark1!A1:D5\")\n\ndata |&gt; \n  gt()\n\n\n\n\n\n\n\n\nDato\nTid\nNavn\nBemærkning\n\n\n\n\n2024-01-27\nkl. 8.00-10.00\nAlbert\nbla\n\n\n2024-01-28\nKl. 9.00\nCamus\nhallo\n\n\n2024-01-27\nKl. 9.00\nHansen\nHejsa\n\n\n2024-01-27\nKl. 10.00\nPeter\nHej\n\n\n\n\n\n\n\n\n\n# With auth:\nlibrary(googledrive)\nlibrary(googlesheets4)\nlibrary(dplyr)\nlibrary(gt)\n\n\n# Google Authentication\ngoogledrive::drive_auth(\n  scopes = \"https://www.googleapis.com/auth/drive.readonly\")\ngs4_auth(token = drive_token())\n\n# Get Google Sheet ID\nss &lt;- googledrive::drive_get(\"hv8_planter_sheet\")\n\n# ss can be url???\n# Read data from Google Sheet\ndata &lt;- googlesheets4::read_sheet(ss, sheet = \"content\")\n\ndata |&gt; \n  gt()"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This is a test website to run R code within Quarto on Github and publish a Quarto website to document when the code has been executed.\nWith GitHub Actions on GitHub:\n\ninstall Quarto + R and the correct versions of each R package you need\nrender a Quarto project (not render any files locally!)\npublish a Quarto project on GitHub Pages\nExecute R code and content in qmd files\n\nSetting things up Workflow:\n\nCreate Quarto website project on my Mac with git and renv.\nCommit with Sourcetree ??\nCreate my new repository on GitHub with usethis::use_github() in RStudio in my R project (My GitHub token used in gitcreds::gitcreds_set() controls GitHub account)\nOn GitHub in my new repository: main -&gt; View all branches -&gt; Create a branch -&gt; “gh-pages”\nCreate txt file publish.yaml file in new folders .github/workflows. Copy/paste complete example of a GitHub Action into publish.yaml\n(notice that I have not rendered locally at all)\nCommit with Sourcetree\npush to GitHub in in RStudio in my R project\nOn GitHub in my new repository:\n\nPages -&gt; Branch -&gt; change from “main” to “gh-pages” and save\nTop bar -&gt; Actions, where I can follow the “pages build and deployment” and then I go to visit the website\n\n\nWriting R code and website content Workflow:\n\nWrite R code and content in qmd files\nCall renv::snapshot() to save the state of your project library in renv.lock\nCommit with Sourcetree\npush to GitHub in in RStudio in my R project\n\nRessources:\n\nggnot2 YouTube: Publish a Quarto project using GitHub Pages+GitHub Actions in 6 minutes (no need to render locally!)\nQuarto: GitHub Pages, Executing Code"
  }
]